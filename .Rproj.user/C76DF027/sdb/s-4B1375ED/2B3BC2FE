{
    "collab_server" : "",
    "contents" : "library(shiny)\n\n\nshinyUI(navbarPage(\"Event Study\", theme = \"style.css\", id = \"inTab\",\n                   tabPanel(\"Step 1 - Optimal Portfolio Computation\", id =\"tab1\", value = 1, \n                            # Application title\n                            headerPanel(\"Optimal Risky Portfolio selection\"),\n                            # Application's left Panel\n                            sidebarPanel(\n                              tags$head(tags$script('\n                                     Shiny.addCustomMessageHandler(\"myCallbackHandler\",\n                                       function(typeMessage) {console.log(typeMessage)\n                                          if(typeMessage == 1){\n                                          console.log(\"got here\");\n                                          $(\"a:contains(Step 2 - Complete Portfolio)\").click();\n                                          }\n                                          });\n                                          ')),\n                              #we define the style for the error messages\n                              tags$style(HTML(\"\n                                              .shiny-output-error-validation {\n                                              color: red;\n                                              margin-top:15px;\n                                              }\n                                              \")), \n                              h4(\"Choose the Data Source\"),\n                              selectInput(\"dataSource\", \"Data Source\", c(\"Yahoo\")),\n                              hr(),\n                              h4(\"Choose the Stocks to put in your Portfolio\"),\n                              selectInput(\"Exchange\", \"Exchange\", c(\"ASX\" = \"ASX\", \"NYSE\" = \"NYSE\")),\n                              uiOutput(\"stockChoice\"),\n                              hr(),\n                              h4(\"Choose Benchmark\"),\n                              uiOutput(\"indexChoices\"),\n                              hr(),\n                              h4(\"Indicate the source you want to use for the expected returns of the stocks\"),\n                              radioButtons(\"choice1\", \"Source of the expected returns\", c(\"Randomly generated\"= 1, \"Historical data\"= 2)),\n                              hr(),\n                              h4(\"Do you want to authorize short selling ?\"),\n                              radioButtons(\"shortChoice1\", \"Short selling\", c(\"Yes\"= \"yes\", \"No\"= \"no\")),\n                              hr(),\n                              h4(\"Indicate the period of time you want to use for historical data\"),\n                              dateRangeInput(\"dateRange\", \"Period to consider for historical data\", start = Sys.Date()-(5*365), end = Sys.Date(), min = \"2000-01-01\", max = Sys.Date()),\n                              hr(),\n                              div(style=\"display:inline-block\", actionButton(\"do1\", \"launch\")),\n                              conditionalPanel(\"output.displayOpt\", style=\"display:inline-block; float:right\", actionButton(\"nextStep\", \"Next Step\")),\n                              #error messages, 1 for number of stocks chosen, 2 to ensure that a Rf value is chosen, 3 to make sure that all the expected returns inputs are filled\n                              textOutput(\"alert1\"),\n                              textOutput(\"alert3\"),\n                              textOutput(\"alert4\")\n                            ),\n                            \n                            # Shows the main panel with the efficient frontier and the main information about the generated portfolio\n                            mainPanel(\n                              uiOutput(\"displayOpt\"),\n                              conditionalPanel(\"output.displayOpt\",\n                                               tabsetPanel(type = \"tabs\", \n                                                           tabPanel(\"Graph\", \n                                                                    h3(\"The Optimal Risky Portfolio on the Efficient Frontier\"),\n                                                                    plotOutput(\"results\"),\n                                                                    p(\"Source of data : Yahoo Finance\"),\n                                                                    p(textOutput(\"dateRange1\", inline = TRUE)),\n                                                                    p(textOutput(\"shortSelling1\", inline = TRUE)),\n                                                                    hr()\n                                                           ),\n                                                           tabPanel(\"Min Var and Opt risky portfolios\",\n                                                                    h3(\"Minimum Variance Portfolio and Optimal Risky Portfolio Information\"),\n                                                                    br(),\n                                                                    strong(\"Risk and Return - Minimum Variance Portfolio\"),\n                                                                    p(textOutput(\"minExpRet1\"), textOutput(\"minRisk1\")),\n                                                                    strong(\"Risk and Return - Optimal Risky Portfolio\"),\n                                                                    p(textOutput(\"optExpRet1\"), textOutput(\"optRisk1\")),\n                                                                    strong(\"Risk and Return - Benchmark Portfolio\"),\n                                                                    p(textOutput(\"benchExpRet1\"), textOutput(\"benchRisk1\")),\n                                                                    br(),\n                                                                    strong(\"Composition\"),\n                                                                    p(dataTableOutput(\"Opt\")),\n                                                                    hr()\n                                                           ),\n                                                           tabPanel(\"Assets Information\",\n                                                                    h3(\"Assets Information\"),\n                                                                    br(),\n                                                                    strong(\"Risk and Return\"),\n                                                                    br(),\n                                                                    p(dataTableOutput(\"assetsTableOpt\")),\n                                                                    br(),\n                                                                    strong(\"Covariance Matrix\"),\n                                                                    br(),\n                                                                    p(dataTableOutput(\"covarTableOpt\")),\n                                                                    br(),\n                                                                    strong(\"Assets Data\"),\n                                                                    p(downloadLink('download1', 'Download'))\n                                                           )\n                                               )\n                              )\n                            )\n                   ),\n                   tabPanel(\"Step 2 - Complete Portfolio\", id =\"tab2\", value = 2,\n                            tags$style(HTML(\"\n                                            p {\n                                            text-align:justify;\n                                            }\n                                            \")),\n                            headerPanel(\"Complete Portfolio computation\"),\n                            sidebarPanel(\n                              conditionalPanel(\"input.do1\",\n                                               h4(\"Input the risk free rate\"),\n                                               numericInput(\"risk_free\", \"Risk Free Rate (%)\", value = 1),\n                                               hr(),\n                                               h4(\"Choose the proportion of risk free asset in the portfolio\"),\n                                               sliderInput(\"propor\", \"Proportion of Risk Free Asset (%)\", min = -100, max = 100, value = 0),\n                                               hr(),\n                                               actionButton(\"do2\", \"launch\"),\n                                               textOutput(\"alert2\")\n                              )\n                            ),\n                            mainPanel(\n                              uiOutput(\"displayComp\"),\n                              conditionalPanel(\"output.displayComp\",\n                                               tabsetPanel(type = \"tabs\", \n                                                           tabPanel(\"Graph\",\n                                                                    h3(\"The Complete Portfolio on the CAL\"),\n                                                                    plotOutput(\"resultsComp\"),\n                                                                    p(\"Source of data : Yahoo Finance\"),\n                                                                    p(textOutput(\"dateRangeComp\", inline = TRUE)),\n                                                                    p(textOutput(\"shortSellingComp\", inline = TRUE)),\n                                                                    hr()      \n                                                           ),\n                                                           tabPanel(\"Complete Portfolio\",\n                                                                    h3(\"Complete Portfolio Information\"),\n                                                                    br(),\n                                                                    strong(\"Risk and Return\"),\n                                                                    p(textOutput(\"compExpRet1\"), textOutput(\"compRisk1\")),\n                                                                    strong(\"Risk and Return - Benchmark Portfolio\"),\n                                                                    p(textOutput(\"benchExpRet2\"), textOutput(\"benchRisk2\")),\n                                                                    br(),\n                                                                    strong(\"Composition\"),\n                                                                    p(dataTableOutput(\"comp\")),\n                                                                    hr()      \n                                                           ),\n                                                           tabPanel(\"Assets Information\",\n                                                                    h3(\"Assets Information\"),\n                                                                    br(),\n                                                                    strong(\"Risk and Return\"),\n                                                                    br(),\n                                                                    p(dataTableOutput(\"assetsTableComp\")),\n                                                                    br(),\n                                                                    strong(\"Covariance Matrix\"),\n                                                                    br(),\n                                                                    p(dataTableOutput(\"covarTableComp\")),\n                                                                    br(),\n                                                                    strong(\"Assets Data\"),\n                                                                    p(downloadLink('download2', 'Download'))\n                                                           )\n                                               )\n                                               \n                                               \n                                               \n                                               \n                                               \n                              )\n                            )\n                   ),\n                   tabPanel(\"Import your own data\", id =\"tab3\", value = 3, \n                            tags$style(HTML(\"\n                                            p {\n                                            text-align:justify;\n                                            }\n                                            \")),\n                            headerPanel(\"Portfolio selection using my data\"),\n                            sidebarPanel(\n                              h4(\"Notes: \"),\n                              p(\"In this part you can input an Excel file containing your own data.\n                                This file must follow the model shown in the documentation and contain all the information necessary for the computation.\"),\n                              p(\"This includes:\"),\n                              p(\"- Stocks' names\"),\n                              p(\"- Stocks' Expected Returns\"),\n                              p(\"- Stocks' variances\"),\n                              p(\"- Stocks' correlation coefficients\"),\n                              p(\"- The Risk Free Rate\"),\n                              br(),\n                              h4(\"Please Input your data\"),\n                              p(\"Format supported: .xls, .xlsx\"),\n                              fileInput(\"inputData\", \"Upload your data\", multiple = FALSE, accept = NULL),\n                              h4(\"Do you want to authorize short selling ?\"),\n                              p(\"If short selling is authorized you might have assets with negative weigths.\"),\n                              p(\"On the other hand, if you don't allow short selling, some assets might have a \n                                weight of 0 in your portfolio as they are inefficient.\"),\n                              radioButtons(\"shortChoice2\", \"Short selling\", c(\"Yes\"= \"yes\", \"No\"= \"no\")),\n                              actionButton(\"do3\", \"launch\"),\n                              textOutput(\"alertFile\")\n                            ),\n                            mainPanel(\n                              uiOutput(\"displayFile\"),\n                              conditionalPanel(\"output.displayFile\",\n                                               tabsetPanel(type = \"tabs\", \n                                                           tabPanel(\"Graph\",\n                                                                    h3(\"Portfolio's Location on the CAL\"),\n                                                                    plotOutput(\"results2\"),\n                                                                    textOutput(\"shortSelling2\", inline = TRUE),\n                                                                    sliderInput(\"RiskFreeProp2\", \"Percentage of Risk Free Asset in your complete Portfolio\", -100, 100, 1, width = '100%'),\n                                                                    hr()\n                                                           ),\n                                                           tabPanel(\"Portfolios Information\",\n                                                                    h3(\"Portfolios Information\"),\n                                                                    br(),\n                                                                    strong(\"Risk and Return - Minimum Variance Portfolio\"),\n                                                                    p(textOutput(\"minExpRet2\"), textOutput(\"minRisk2\")),\n                                                                    strong(\"Risk and Return - Optimal Risky Portfolio\"),\n                                                                    p(textOutput(\"optExpRet2\"), textOutput(\"optRisk2\")),\n                                                                    strong(\"Risk and Return - Complete Portfolio\"),\n                                                                    p(textOutput(\"expRet2\"), textOutput(\"Risk2\")),\n                                                                    br(),\n                                                                    strong(\"composition\"),\n                                                                    p(dataTableOutput(\"assets2\")),\n                                                                    hr()\n                                                           ),\n                                                           tabPanel(\"Assets Information\",\n                                                                    h3(\"Assets Information\"),\n                                                                    br(),\n                                                                    strong(\"Risk and Return\"),\n                                                                    br(),\n                                                                    p(dataTableOutput(\"assetsTableFile\")),\n                                                                    br(),\n                                                                    strong(\"Covariance Matrix\"),\n                                                                    br(),\n                                                                    p(dataTableOutput(\"covarTableFile\"))\n                                                                    )\n                                               )  \n                              )\n                              \n                            )\n                   )\n                   \n                   \n))",
    "created" : 1465124178835.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3171123616",
    "id" : "2B3BC2FE",
    "lastKnownWriteTime" : 1465124271,
    "last_content_update" : 1465124271301,
    "path" : "~/R/portfolio/portfolioTool/ui.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}